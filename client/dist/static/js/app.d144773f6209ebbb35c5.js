webpackJsonp([2,0],{0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(67),a=i(o),s=n(158),l=i(s),r=n(134),c=i(r);n(149);var u=n(94),p=i(u);a.default.use(c.default),a.default.config.devtools=!0;new a.default({router:p.default,render:function(t){return t(l.default)}}).$mount("#app")},45:function(t,e){"use strict";function n(t){var e=/((傻|妈|操|草|煞|日|狗|泥马|尼玛|你妈|你吗|他妈|他吗)(泥马|尼玛|尼马|逼|了个逼|比|笔|你妈|勒戈壁))|(尼马|尼玛|屌|鸡把|鸡巴|几把|fuck|Fuck|FUCK|SB|Sb|sb|sB)/g;return e.test(t)}function i(t){var e=/[ `~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,n=/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im;return e.test(t)||n.test(t)}function o(t){var e=/[ `~!@#$%^&*()_+<>?:"{},.\/;'[\]·！#￥（——）：；“”‘、，|《。》？、【】[\]]/gim;return t.replace(e,"")}Object.defineProperty(e,"__esModule",{value:!0}),e.haveDirtyWords=n,e.haveSpecialChar=i,e.deleteSpecialChar=o},91:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},watch:{},methods:{},created:function(){}}},92:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(45),a=n(155),s=i(a),l=n(156),r=i(l),c=n(157),u=i(c);e.default={data:function(){return{name:"",swiperImgList:[{src:s.default},{src:r.default},{src:u.default}]}},watch:{},methods:{goChat:function(){this.name&&""!=this.name?(0,o.haveSpecialChar)(this.name)?this.$notify({title:"错误",message:"请删除特殊字符后重试!",position:"bottom-right",duration:1500}):(0,o.haveDirtyWords)(this.name)?this.$notify({title:"错误",message:"请删除敏感字符后重试!",position:"bottom-right",duration:2e3}):(window.name=this.name,this.$router.push({name:"Main"})):this.$notify({title:"提示",message:"请填写昵称后重试!",position:"bottom-right",duration:2e3})},moreQA:function(){this.$notify({title:"提示",message:"正在建设中，敬请期待!",position:"bottom-right",duration:1e3})}},created:function(){}}},93:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(95),a=i(o),s=n(45);e.default={data:function(){return{name:"",toBeSentMessage:"",messageList:[],_webSocket:null,_placeholder:"请输入内容",_readonly:!1,currentTheme:"default",themeList:["default","blue","red","black","green"],openLeft:!1,openRight:!1,newMessageCount:0,onLineUserList:[]}},watch:{},methods:{sentMessage:function(){var t=this,e=this,n=null,i=9;this.toBeSentMessage=this.toBeSentMessage.replace(/[\r\n]/g,""),!this._readonly&&this.toBeSentMessage&&""!=this.toBeSentMessage&&((0,s.haveDirtyWords)((0,s.deleteSpecialChar)(this.toBeSentMessage))?this.$notify({title:"错误",message:"请删除敏感字符后重试!",position:"bottom-right",duration:2e3}):(this._webSocket.send((0,a.default)({name:e.name,type:"chat",content:this.toBeSentMessage,time:(new Date).toLocaleString()})),this.toBeSentMessage="",n=setInterval(function(){t._readonly=!0,t.toBeSentMessage=i+"秒后可以再次发言",i--,i<=0&&(t.toBeSentMessage="",t._readonly=!1,clearInterval(n))},1e3)))},toggleLeftSider:function(){this.openRight=!1,this.openLeft=!this.openLeft},toggleRightSider:function(){this.openLeft=!1,this.openRight=!this.openRight},toggleTheme:function(t){this.currentTheme=this.themeList[t]},logOut:function(){this.$router.push({name:"Login"})},atAction:function(t){t!=this.name&&(this._readonly||(this.$refs.toBeSentMessageInput.focus(),this.toBeSentMessage+="@"+t+"@ "))},goToBottom:function(){var t=this,e=document.getElementById("main").scrollHeight;this.$nextTick(function(){document.getElementById("main").scrollTo(0,e),t.newMessageCount=0})},onLineUserPush:function(t){this.onLineUserList.push(t)},onLineUserPop:function(t){this.onLineUserList.forEach(function(e,n,i){e==t&&i.splice(n,1)})}},created:function(){this.name=window.name;var t=function(){return function(t){return window.WebSocket?new WebSocket(t):!!window.MozWebSocket&&new MozWebSocket(t)}}(),e=null,n=this;e=t("ws://120.79.149.105:8200"),e.onopen=function(){e.send((0,a.default)({name:n.name,type:"goOnline",time:(new Date).toLocaleString()}))},e.onmessage=function(t){n.messageList.push(JSON.parse(t.data)),"goOnline"==JSON.parse(t.data).type&&n.onLineUserPush(JSON.parse(t.data).name),"goOutline"==JSON.parse(t.data).type&&n.onLineUserPop(JSON.parse(t.data).name),JSON.parse(t.data).name!=n.name?n.newMessageCount++:n.goToBottom(),JSON.parse(t.data).content&&JSON.parse(t.data).content.indexOf("@"+name+"@")!=-1&&n.$message({showClose:!0,message:"有人@了你!"})},e.onclose=function(){this.$notify({title:"提示",message:"服务器关闭,请稍后重试!",position:"bottom-right",duration:3e3})},this._webSocket=e}}},94:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(164),a=i(o),s=n(67),l=i(s),r=n(159),c=i(r),u=n(160),p=i(u);l.default.use(a.default);var f=[{path:"/",name:"Login",component:c.default},{path:"/main",name:"Main",component:p.default}],d=new a.default({routes:f});d.beforeEach(function(t,e,n){"Login"==t.name&&n(),"Main"==t.name&&"Login"==e.name?n():n("/")}),e.default=d},149:function(t,e){},150:function(t,e){},151:function(t,e){},152:function(t,e){},155:function(t,e,n){t.exports=n.p+"static/img/swiper-01.png"},156:function(t,e,n){t.exports=n.p+"static/img/swiper-02.png"},157:function(t,e,n){t.exports=n.p+"static/img/swiper-03.png"},158:function(t,e,n){var i,o;n(151),i=n(91);var a=n(162);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,t.exports=i},159:function(t,e,n){var i,o;n(150),i=n(92);var a=n(161);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,t.exports=i},160:function(t,e,n){var i,o;n(152),i=n(93);var a=n(163);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=a.render,o.staticRenderFns=a.staticRenderFns,t.exports=i},161:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{height:"100%",width:"100%",position:"absolute"}},[n("el-carousel",{staticStyle:{height:"auto",position:"relative"},attrs:{interval:3e3,type:"card"}},t._l(t.swiperImgList,function(t){return n("el-carousel-item",[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.src}})])})),t._v(" "),n("el-row",{staticStyle:{"margin-top":"5%"}},[n("el-col",{attrs:{span:12,offset:6}},[n("el-input",{attrs:{placeholder:"请输入昵称",maxlength:8,"prefix-icon":"el-icon-edit",autofocus:"",clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?void t.goChat(e):null}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-success"},nativeOn:{click:function(e){t.goChat(e)}},slot:"append"})],1)],1)],1),t._v(" "),n("i",{staticClass:"el-icon-question",staticStyle:{position:"absolute",bottom:"0",right:"0","font-size":"3rem",color:"aqua"},on:{click:t.moreQA}})],1)],1)},staticRenderFns:[]}},162:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{staticClass:"router"})},staticRenderFns:[]}},163:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%",width:"100%"}},[n("el-row",{staticStyle:{height:"100%",width:"100%",position:"absolute",overflow:"hidden"}},[n("el-col",{ref:"leftSider",staticStyle:{height:"100%"},attrs:{span:t.openLeft?6:0}},[n("el-aside",{staticStyle:{width:"100%",height:"100%",position:"relative"},attrs:{width:"100%"}},[n("el-menu",{staticClass:"siderMenu semitransparentGrind",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-menu-item",{attrs:{index:"1"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Achat")])]),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-view"}),t._v(" "),n("span",[t._v("主题")])]),t._v(" "),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("点击按钮切换")]),t._v(" "),n("el-menu-item",{staticStyle:{color:"teal","min-width":"100%"},attrs:{index:"2-1"},nativeOn:{click:function(e){t.toggleTheme(0)}}},[t._v("默认\n              ")]),t._v(" "),n("el-menu-item",{staticStyle:{color:"blue","min-width":"100%"},attrs:{index:"2-2"},nativeOn:{click:function(e){t.toggleTheme(1)}}},[t._v("蓝色\n              ")]),t._v(" "),n("el-menu-item",{staticStyle:{color:"red","min-width":"100%"},attrs:{index:"2-3"},nativeOn:{click:function(e){t.toggleTheme(2)}}},[t._v("红色\n              ")]),t._v(" "),n("el-menu-item",{staticStyle:{color:"black","min-width":"100%"},attrs:{index:"2-4"},nativeOn:{click:function(e){t.toggleTheme(3)}}},[t._v("黑色\n              ")]),t._v(" "),n("el-menu-item",{staticStyle:{color:"lightgreen","min-width":"100%"},attrs:{index:"2-5"},nativeOn:{click:function(e){t.toggleTheme(4)}}},[t._v("原谅绿\n              ")])],2)],2),t._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-warning"}),t._v(" "),n("span",[t._v("更名")])]),t._v(" "),n("el-menu-item-group",[n("el-menu-item",{staticStyle:{color:"red","min-width":"100%"},attrs:{index:"3-1"},nativeOn:{click:function(e){t.logOut(e)}}},[t._v("退出\n              ")])],1)],2)],1)],1)],1),t._v(" "),n("el-col",{ref:"main",staticStyle:{height:"100%"},attrs:{span:t.openLeft||t.openRight?18:24}},[n("el-container",{staticStyle:{height:"100%",width:"100%",position:"relative"}},[n("el-header",{class:t.currentTheme+"-header",attrs:{height:"5%"}},[n("i",{staticClass:"el-icon-menu",staticStyle:{position:"absolute",top:"1.5%",left:"1.5%"},on:{click:t.toggleLeftSider}}),t._v(" "),n("i",{staticClass:"el-icon-more",staticStyle:{position:"absolute",top:"1.5%",right:"1.5%"},on:{click:t.toggleRightSider}})]),t._v(" "),n("el-main",{ref:"main",staticStyle:{overflow:"auto","overflow-x":"hidden","-webkit-overflow-scrolling":"touch"},attrs:{id:"main",height:"90%"}},t._l(t.messageList,function(e){return n("el-row",{staticStyle:{width:"100%","margin-top":"1%"}},["chat"==e.type&&e.name!=t.name?n("el-col",[n("div",{staticClass:"el-popover el-popper el-popover--plain",class:{aboutMe:e.content.indexOf("@"+t.name+"@")!=-1},staticStyle:{position:"relative!important",width:"auto",float:"left"},attrs:{role:"tooltip",id:"el-popover-5007","aria-hidden":"false","x-placement":"right"}},[n("i",{staticClass:"el-icon-bell",staticStyle:{position:"absolute",top:"0",right:"0","font-size":"1.5rem"},on:{click:function(n){t.atAction(e.name)}}}),t._v(" "),n("div",{staticClass:"el-popover__title",staticStyle:{"font-family":"fantasy"}},[t._v("\n                  "+t._s(e.name)+":\n                ")]),t._v(" "),n("label",{staticStyle:{"word-break":"break-all","margin-left":"10%"}},[t._v("\n                  "+t._s(e.content)+"\n                ")]),t._v(" "),n("div",{staticClass:"popper__arrow",staticStyle:{top:"15.5px"},attrs:{"x-arrow":""}})])]):t._e(),t._v(" "),"chat"==e.type&&e.name==t.name?n("el-col",[n("div",{staticClass:"el-popover el-popper el-popover--plain",staticStyle:{position:"relative!important",width:"auto",float:"right",background:"lightgreen"},attrs:{role:"tooltip",id:"el-popover-1568","aria-hidden":"false","x-placement":"left"}},[n("div",{staticClass:"el-popover__title",staticStyle:{"font-family":"fantasy"}},[t._v("\n                  "+t._s(e.name)+":\n                ")]),t._v(" "),n("label",{staticStyle:{"word-break":"break-all","margin-left":"10%"}},[t._v("\n                  "+t._s(e.content)+"\n                ")]),t._v(" "),n("div",{staticClass:"popper__arrow",staticStyle:{top:"15.5px"},attrs:{"x-arrow":""}})])]):t._e(),t._v(" "),"goOnline"==e.type?n("el-col",{staticStyle:{"text-align":"center"}},[n("span",{staticStyle:{"white-space":"nowrap"}},[t._v(t._s(e.name)+"上线了")])]):t._e(),t._v(" "),"goOutline"==e.type?n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:10,offset:7}},[n("span",{staticStyle:{"white-space":"nowrap"}},[t._v(t._s(e.name)+"下线了")])]):t._e()],1)})),t._v(" "),n("el-footer",{ref:"footer",class:t.currentTheme+"-footer",staticStyle:{position:"relative","margin-top":"10px",bottom:"0",width:"100%",height:"auto"}},[n("el-badge",{directives:[{name:"show",rawName:"v-show",value:t.newMessageCount,expression:"newMessageCount"}],staticClass:"item",staticStyle:{position:"absolute",right:"11px",top:"-18px","z-index":"2000"},attrs:{value:t.newMessageCount},nativeOn:{click:function(e){t.goToBottom(e)}}},[n("i",{staticClass:"el-icon-info"})]),t._v(" "),n("el-input",{ref:"toBeSentMessageInput",attrs:{type:"textarea",placeholder:t._placeholder,readonly:t._readonly,maxlength:100,autosize:"",resize:"none"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?void t.sentMessage(e):null}},model:{value:t.toBeSentMessage,callback:function(e){t.toBeSentMessage=e},expression:"toBeSentMessage"}}),t._v(" "),n("el-container",{staticStyle:{width:"100%"}},[n("el-button-group",{staticStyle:{width:"100%",display:"flex",flex:"1"}},[n("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",icon:"el-icon-star-off"}}),t._v(" "),n("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",icon:"el-icon-upload2"}}),t._v(" "),n("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",icon:"el-icon-picture"}}),t._v(" "),n("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary",icon:"el-icon-circle-plus-outline"}}),t._v(" "),n("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary"},nativeOn:{click:function(e){t.sentMessage(e)}}},[t._v("发送")])],1)],1)],1)],1)],1),t._v(" "),n("el-col",{ref:"rightSider",staticStyle:{height:"100%"},attrs:{span:t.openRight?6:0}},[n("el-aside",{staticStyle:{width:"100%",height:"100%",position:"relative"},attrs:{width:"100%"}},[n("el-menu",{staticClass:"siderMenu semitransparentGrind",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-menu-item",{staticStyle:{color:"white","min-width":"100%"},attrs:{index:"1"},nativeOn:{click:function(e){t.atAction(t.user)}}},[n("i",{staticClass:"el-icon-tickets"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("在线成员")])]),t._v(" "),t._l(t.onLineUserList,function(e,i){return n("el-menu-item",{staticStyle:{color:"white","min-width":"100%"},attrs:{index:i+2},nativeOn:{click:function(n){t.atAction(e)}}},[n("i",{staticClass:"el-icon-caret-right"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e))])])})],2)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.d144773f6209ebbb35c5.js.map